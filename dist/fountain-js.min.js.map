{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///fountain-js.min.js","webpack:///webpack/bootstrap 4448cead7d99963034a2","webpack:///./src/index.js","webpack:///./src/parse.js","webpack:///./src/inline.js","webpack:///./src/regex.js","webpack:///./src/tokenize.js","webpack:///./src/lexer.js","webpack:///./src/json-parse.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_parse","_parse2","_jsonParse","_jsonParse2","fountain","script","callback","parse","tokens","parseJSON","_inline","_inline2","_tokenize","_tokenize2","toks","undefined","i","length","token","title","titlePage","html","text","lexer","type","push","replace","scene_number","dual","depth","console","log","output","join","reverse","_regex","_regex2","inline","note","line_break","bold_italic_underline","bold_underline","italic_underline","bold_italic","bold","italic","underline","s","styles","style","match","note_inline","test","trim","regex","title_page","scene_heading","transition","dialogue","parenthetical","action","centered","section","synopsis","boneyard","page_break","emphasis","splitter","cleaner","standardizer","whitespacer","_lexer","_lexer2","tokenize","src","split","line","parts","meta","x","xlen","toLowerCase","indexOf","pushToArray","maybeArray","stuffToPush","Array","isArray","trace","JSON","stringify","parseToJson","scene","character","credit","authors","source","notes","draftdate","date","contact","copyright","scenes","heading","characters","name","lines"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,iBAAAH,GACA,gBAAAC,SACAA,QAAA,eAAAD,IAEAD,EAAA,eAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASL,EAAQD,EAASM,GAE/B,YAcA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAZvFG,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GEvDV,IAAAC,GAAAhB,EAAA,GF4DKiB,EAAUR,EAAuBO,GE3DtCE,EAAAlB,EAAA,GF+DKmB,EAAcV,EAAuBS,GE7DpCE,EAAW,QAAXA,GAAoBC,EAAQC,GAChC,MAAOF,GAASG,MAAMF,EAAQC,GAGhCF,GAASG,MAAQ,SAASF,EAAQG,EAAQF,GACxC,OAAO,EAAAL,cAAMI,EAAQG,EAAQF,IAG/BF,EAASK,UAAY,SAASJ,EAAQG,EAAQF,GAC5C,OAAO,EAAAH,cAAYE,EAAQG,EAAQF,IFwEpC5B,aErEc0B,EFsEdzB,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,EAASM,GAE/B,YAcA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAZvFG,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GGlGR,IAAAW,GAAA1B,EAAA,GHuGG2B,EAAWlB,EAAuBiB,GGtGrCE,EAAA5B,EAAA,GH0GG6B,EAAapB,EAAuBmB,GGxGjCL,EAAQ,SAASF,EAAQS,EAAMR,GAElBS,SAAbT,GAA0C,kBAATQ,KACnCR,EAAWQ,EACXA,EAAOC,OAUT,KAPA,GAAMP,IAAS,EAAAK,cAASR,GACpBW,EAAIR,EAAOS,OACVC,SACDC,SACEC,KACCC,KAEAL,KAIL,OAHAE,EAAQV,EAAOQ,GACfE,EAAMI,KAAOX,aAAOY,MAAML,EAAMI,MAExBJ,EAAMM,MACZ,IAAK,QAASJ,EAAUK,KAAK,OAASP,EAAMI,KAAO,SAAUH,EAAQD,EAAMI,KAAKI,QAAQ,SAAU,KAAKA,QAAQ,gBAAiB,GAAK,MACrI,KAAK,SAAUN,EAAUK,KAAK,qBAAyBP,EAAMI,KAAO,OAAS,MAC7E,KAAK,SAAUF,EAAUK,KAAK,sBAA0BP,EAAMI,KAAO,OAAS,MAC9E,KAAK,UAAWF,EAAUK,KAAK,sBAA0BP,EAAMI,KAAO,OAAS,MAC/E,KAAK,SAAUF,EAAUK,KAAK,qBAAyBP,EAAMI,KAAO,OAAS,MAC7E,KAAK,QAASF,EAAUK,KAAK,oBAAwBP,EAAMI,KAAO,OAAS,MAC3E,KAAK,aAAcF,EAAUK,KAAK,yBAA6BP,EAAMI,KAAO,OAAS,MACrF,KAAK,OAAQF,EAAUK,KAAK,mBAAuBP,EAAMI,KAAO,OAAS,MACzE,KAAK,UAAWF,EAAUK,KAAK,sBAA0BP,EAAMI,KAAO,OAAS,MAC/E,KAAK,YAAaF,EAAUK,KAAK,wBAA4BP,EAAMI,KAAO,OAAS,MAEnF,KAAK,gBAAiBD,EAAKI,KAAK,OAASP,EAAMS,aAAe,QAAWT,EAAMS,aAAe,KAAQ,KAAOT,EAAMI,KAAO,QAAU,MACpI,KAAK,aAAcD,EAAKI,KAAK,OAASP,EAAMI,KAAO,QAAU,MAE7D,KAAK,sBAAuBD,EAAKI,KAAK,8BAAkC,MACxE,KAAK,iBAAkBJ,EAAKI,KAAK,wBAA2BP,EAAMU,KAAO,IAAMV,EAAMU,KAAO,IAAM,KAAQ,MAC1G,KAAK,YAAaP,EAAKI,KAAK,OAASP,EAAMI,KAAO,QAAU,MAC5D,KAAK,gBAAiBD,EAAKI,KAAK,4BAAgCP,EAAMI,KAAO,OAAS,MACtF,KAAK,WAAYD,EAAKI,KAAK,MAAQP,EAAMI,KAAO,OAAS,MACzD,KAAK,eAAgBD,EAAKI,KAAK,UAAY,MAC3C,KAAK,oBAAqBJ,EAAKI,KAAK,UAAY,MAEhD,KAAK,UAAWJ,EAAKI,KAAK,kCAAuCP,EAAMW,MAAQ,KAAQX,EAAMI,KAAO,OAAS,MAC7G,KAAK,WAAYD,EAAKI,KAAK,uBAA2BP,EAAMI,KAAO,OAAS,MAE5E,KAAK,OAAQD,EAAKI,KAAK,QAAUP,EAAMI,KAAO,MAAQ,MACtD,KAAK,iBAAkBD,EAAKI,KAAK,QAAU,MAC3C,KAAK,eAAgBJ,EAAKI,KAAK,OAAS,MAExC,KAAK,SAAUJ,EAAKI,KAAK,MAAQP,EAAMI,KAAO,OAAS,MACvD,KAAK,WAAYD,EAAKI,KAAK,uBAA2BP,EAAMI,KAAO,OAAS,MAE5E,KAAK,aAAcD,EAAKI,KAAK,SAAW,MACxC,KAAK,aAAcJ,EAAKI,KAAK,SAAW,MAExC,SAASK,QAAQC,IAAI,wBAAyBb,EAAMM,KAAMN,EAAMI,MAIpE,GAAMU,IAAWb,QAAOE,MAAQD,UAAWA,EAAUa,KAAK,IAAK5B,OAAQgB,EAAKY,KAAK,KAAOzB,OAAQM,EAAON,EAAO0B,UAAYnB,OAE1H,OAAwB,kBAAbT,GACFA,EAAS0B,GAGXA,EH4IVtD,cGzIgB6B,EH0IhB5B,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,EAASM,GAE/B,YAUA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GARvFG,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GIzNR,IAAAoC,GAAAnD,EAAA,GJ8NGoD,EAAU3C,EAAuB0C,GI5N9BE,GACJC,KAAM,cAENC,WAAY,SAEZC,sBAAuB,gDACvBC,eAAgB,yCAChBC,iBAAkB,2CAClBC,YAAa,sCACbC,KAAM,+BACNC,OAAQ,iCACRC,UAAW,oCAGbT,GAAOd,MAAQ,SAASwB,GACtB,GAAKA,EAAL,CAIA,GAAMC,IAAU,YAAa,SAAU,OAAQ,cAAe,mBAAoB,iBAAkB,yBAChGhC,EAAIgC,EAAO/B,OACXgC,SACAC,QAKJ,KAHAH,EAAIA,EAAErB,QAAQU,aAAMe,YAAad,EAAOC,MAAMZ,QAAQ,QAAS,UAAUA,QAAQ,OAAQ,eAAeA,QAAQ,MAAOW,EAAOE,YAGvHvB,KACLiC,EAAQD,EAAOhC,GACfkC,EAAQd,aAAMa,GAEVC,EAAME,KAAKL,KACbA,EAAIA,EAAErB,QAAQwB,EAAOb,EAAOY,IAKhC,OAAOF,GAAErB,QAAQ,YAAa,KAAKA,QAAQ,iBAAkB,KAAK2B,SJmOrE3E,aIhOgB2D,EJiOhB1D,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,GAEtB,YAEAmB,QAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GKpRV,IAAMuD,IACJC,WAAY,qFAEZC,cAAe,sEACf7B,aAAc,eAEd8B,WAAY,mEAEZC,SAAU,2DACVC,cAAe,aAEfC,OAAQ,SACRC,SAAU,8BAEVC,QAAS,kBACTC,SAAU,uBAEVzB,KAAM,yCACNa,YAAa,8CACba,SAAU,kBAEVC,WAAY,WACZ1B,WAAY,SAEZ2B,SAAU,kEACV1B,sBAAuB,iFACvBC,eAAgB,iFAChBC,iBAAkB,mFAClBC,YAAa,kCACbC,KAAM,kCACNC,OAAQ,kCACRC,UAAW,+BAEXqB,SAAU,UACVC,QAAS,YACTC,aAAc,WACdC,YAAa,gBLyRd5F,cKtRc4E,ELuRd3E,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,EAASM,GAE/B,YAcA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAZvFG,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GMvUV,IAAAoC,GAAAnD,EAAA,GN4UKoD,EAAU3C,EAAuB0C,GM3UtCoC,EAAAvF,EAAA,GN+UKwF,EAAU/E,EAAuB8E,GM7UhCE,EAAW,SAASpE,GAaxB,IAZA,GAAMqE,IAAM,EAAAF,cAAMnE,GAAQsE,MAAMvC,aAAM+B,UAClCnD,EAAI0D,EAAIzD,OACR2D,SACA1B,SACA2B,SACAvD,SACAwD,SACAC,SACAC,SACApD,SACEpB,KAECQ,KAIL,GAHA4D,EAAOF,EAAI1D,GAGPoB,aAAMmB,WAAWH,KAAKwB,GAExB,IADA1B,EAAQ0B,EAAKlD,QAAQU,aAAMmB,WAAY,QAAQoB,MAAMvC,aAAM+B,UAAUjC,UAChE6C,EAAI,EAAGC,EAAO9B,EAAMjC,OAAQ8D,EAAIC,EAAMD,IACzCF,EAAQ3B,EAAM6B,GAAGrD,QAAQU,aAAMgC,QAAS,IAAIO,MAAM,SAClDnE,EAAOiB,MACLD,KAAMqD,EAAM,GAAGxB,OAAO4B,cAAcvD,QAAQ,IAAK,KACjDJ,KAAMuD,EAAM,GAAGxB,aAOrB,IAAIH,EAAQ0B,EAAK1B,MAAMd,aAAMoB,eAC3BlC,EAAO4B,EAAM,IAAMA,EAAM,GAErB5B,EAAK4D,QAAQ,QAAU5D,EAAKL,OAAS,KACnC6D,EAAOxD,EAAK4B,MAAMd,aAAMT,iBAC1BmD,EAAOA,EAAK,GACZxD,EAAOA,EAAKI,QAAQU,aAAMT,aAAc,KAE1CnB,EAAOiB,MACLD,KAAM,gBACNF,OACAK,aAAcmD,GAAQ/D,cAO5B,IAAImC,EAAQ0B,EAAK1B,MAAMd,aAAMyB,UAC3BrD,EAAOiB,MACLD,KAAM,WACNF,KAAM4B,EAAM,GAAGxB,QAAQ,OAAQ,UAMnC,IAAIwB,EAAQ0B,EAAK1B,MAAMd,aAAMqB,YAC3BjD,EAAOiB,MACLD,KAAM,aACNF,KAAM4B,EAAM,IAAMA,EAAM,SAM5B,KAAIA,EAAQ0B,EAAK1B,MAAMd,aAAMsB,YACvBR,EAAM,GAAGgC,QAAQ,QAAUhC,EAAM,GAAGjC,OAAS,EADnD,CAeI,IAZIiC,EAAM,IACR1C,EAAOiB,MACLD,KAAM,sBAIVhB,EAAOiB,MACLD,KAAM,iBAGRqD,EAAQ3B,EAAM,GAAGyB,MAAM,mBAAmBzC,UAErC6C,EAAI,EAAGC,EAAOH,EAAM5D,OAAQ8D,EAAIC,EAAMD,IACzCzD,EAAOuD,EAAME,GAETzD,EAAKL,OAAS,GAChBT,EAAOiB,MACLD,KAAMY,aAAMuB,cAAcP,KAAK9B,GAAQ,gBAAkB,WACzDA,QAKNd,GAAOiB,MACLD,KAAM,YACNF,KAAM4B,EAAM,GAAGG,SAEjB7C,EAAOiB,MACLD,KAAM,iBACNI,KAAMsB,EAAM,GAAK,QAAUtB,EAAO,OAASb,SAGzCa,GACFpB,EAAOiB,MACLD,KAAM,wBAIVI,IAAOsB,EAAM,QAMbA,EAAQ0B,EAAK1B,MAAMd,aAAM0B,UAC3BtD,EAAOiB,MACLD,KAAM,UACNF,KAAM4B,EAAM,GACZrB,MAAOqB,EAAM,GAAGjC,UAMhBiC,EAAQ0B,EAAK1B,MAAMd,aAAM2B,WAC3BvD,EAAOiB,MACLD,KAAM,WACNF,KAAM4B,EAAM,MAMZA,EAAQ0B,EAAK1B,MAAMd,aAAME,OAC3B9B,EAAOiB,MACLD,KAAM,OACNF,KAAM4B,EAAM,MAMZA,EAAQ0B,EAAK1B,MAAMd,aAAM4B,WAC3BxD,EAAOiB,MACLD,KAAsB,MAAhB0B,EAAM,GAAG,GAAa,iBAAmB,iBAM/Cd,aAAM6B,WAAWb,KAAKwB,GACxBpE,EAAOiB,MACLD,KAAM,eAMNY,aAAMG,WAAWa,KAAKwB,GACxBpE,EAAOiB,MACLD,KAAM,eAKVhB,EAAOiB,MACLD,KAAM,SACNF,KAAMsD,GAIV,OAAOpE,GNoVR9B,cMjVc+F,ENkVd9F,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,EAASM,GAE/B,YAUA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GARvFG,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GO3gBV,IAAAoC,GAAAnD,EAAA,GPghBKoD,EAAU3C,EAAuB0C,GO9gBhCZ,EAAQ,SAASlB,GACrB,MAAOA,GAAOqB,QAAQU,aAAM4B,SAAU,UACnCtC,QAAQU,aAAMiC,aAAc,MAC5B3C,QAAQU,aAAMgC,QAAS,IACvB1C,QAAQU,aAAMkC,YAAa,IPkhB/B5F,cO/gBc6C,EPghBd5C,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,EAASM,GAE/B,YAcA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAZvFG,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GQliBV,IAAAa,GAAA5B,EAAA,GRuiBK6B,EAAapB,EAAuBmB,GQtiBzCF,EAAA1B,EAAA,GR0iBK2B,EAAWlB,EAAuBiB,GQxiBjCyE,EAAc,SAASC,EAAYC,GAKvC,GAJyB,mBAAdD,KACTA,OAGEE,MAAMC,QAAQH,GAIhB,KADAtD,SAAQ0D,QACF,yEAA2EC,KAAKC,UAAUN,EAGlG,OANEA,GAAW3D,KAAK4D,GAMXD,GAGHO,EAAc,SAAStF,EAAQS,EAAMR,GACxBS,SAAbT,GAA0C,kBAATQ,KACnCR,EAAWQ,EACXA,EAAOC,OAGT,IAAMP,IAAS,EAAAK,cAASR,GACpBW,EAAIR,EAAOS,OACXC,SACEc,IAGNA,GAAOuB,cACPvB,EAAO3B,UAEP2B,EAAOxB,OAASM,EAAON,EAAO0B,UAAYnB,MAU1C,KARA,GAAI6E,MACAlC,GACFlC,KAAM,WAEJqE,GACFrE,KAAM,WAGDR,KAIL,OAHAE,EAAQV,EAAOQ,GACfE,EAAMI,KAAOX,aAAOY,MAAML,EAAMI,MAExBJ,EAAMM,MACZ,IAAK,QACHQ,EAAOb,MAAQD,EAAMI,KAAKI,QAAQ,SAAU,KAAKA,QAAQ,gBAAiB,IAC1EM,EAAOuB,WAAWpC,MAAQgE,EAAYnD,EAAOuB,WAAWpC,MAAOa,EAAOb,MACtE,MACF,KAAK,SACHa,EAAOuB,WAAWuC,OAASX,EAAYnD,EAAOuB,WAAWuC,OAAQ5E,EAAMI,KACvE,MACF,KAAK,SACL,IAAK,UACHU,EAAOuB,WAAWwC,QAAUZ,EAAYnD,EAAOuB,WAAWwC,QAAS7E,EAAMI,KACzE,MACF,KAAK,SACHU,EAAOuB,WAAWyC,OAASb,EAAYnD,EAAOuB,WAAWyC,OAAQ9E,EAAMI,KACvE,MACF,KAAK,QACHU,EAAOuB,WAAW0C,MAAQd,EAAYnD,EAAOuB,WAAW0C,MAAO/E,EAAMI,KACrE,MACF,KAAK,aACHU,EAAOuB,WAAW2C,UAAYf,EAAYnD,EAAOuB,WAAW2C,UAAWhF,EAAMI,KAC7E,MACF,KAAK,OACHU,EAAOuB,WAAW4C,KAAOhB,EAAYnD,EAAOuB,WAAW4C,KAAMjF,EAAMI,KACnE,MACF,KAAK,UACHU,EAAOuB,WAAW6C,QAAUjB,EAAYnD,EAAOuB,WAAW6C,QAASlF,EAAMI,KACzE,MACF,KAAK,YACHU,EAAOuB,WAAW8C,UAAYlB,EAAYnD,EAAOuB,WAAW8C,UAAWnF,EAAMI,KAC7E,MAEF,KAAK,gBACHU,EAAO3B,OAAOiG,OAASnB,EAAYnD,EAAO3B,OAAOiG,OAAQV,GACzDA,KACAA,EAAQT,EAAYS,GAClBpE,KAAM,UACNG,aAAcT,EAAMS,aACpB4E,QAASrF,EAAMI,MAEjB,MAEF,KAAK,aAEHsE,EAAQT,EAAYS,GAClBpE,KAAM,aACNF,KAAMJ,EAAMI,MAEd,MAGF,KAAK,sBACHoC,EAAS8C,WAAarB,EAAYzB,EAAS8C,WAAYX,GACvDA,GACErE,KAAM,UAERoE,EAAQT,EAAYS,EAAOlC,GAC3BA,GACElC,KAAM,gBAER,MACF,KAAK,iBACHkC,EAAS8C,WAAarB,EAAYzB,EAAS8C,WAAYX,GACvDA,GACErE,KAAM,UAERoE,EAAQT,EAAYS,EAAOlC,GAC3BA,GACElC,KAAON,EAAMU,KAAO,gBAAkB,kBAExC,MACF,KAAK,YACH8B,EAAS8C,WAAarB,EAAYzB,EAAS8C,WAAYX,GACvDA,GACErE,KAAM,YACNiF,KAAMvF,EAAMI,KAEd,MACF,KAAK,gBACHuE,EAAUa,MAAQvB,EAAYU,EAAUa,OACtClF,KAAM,gBACNF,KAAMJ,EAAMI,MAEd,MACF,KAAK,WACHuE,EAAUa,MAAQvB,EAAYU,EAAUa,OACtClF,KAAM,OACNF,KAAMJ,EAAMI,MAEd,MACF,KAAK,eACL,IAAK,oBACHoC,EAAS8C,WAAarB,EAAYzB,EAAS8C,WAAYX,GACvDD,EAAQT,EAAYS,EAAOlC,GAC3BA,GACElC,KAAM,kBAER,MAEF,KAAK,UACHoE,EAAQT,EAAYS,GAClBpE,KAAM,UACNiF,KAAMvF,EAAMI,MAEd,MACF,KAAK,WACHsE,EAAQT,EAAYS,GAClBpE,KAAM,WACNF,KAAMJ,EAAMI,MAEd,MAEF,KAAK,OACL,IAAK,iBACL,IAAK,eAEH,KAEF,KAAK,SACL,IAAK,WACHsE,EAAQT,EAAYS,GAClBpE,KAAM,SACNF,KAAMJ,EAAMI,MAEd,MAEF,KAAK,aACL,IAAK,aAGH,KACF,SAASQ,QAAQC,IAAI,wBAAyBb,EAAMM,KAAMN,EAAMI,MASpE,MAJAoC,GAAS8C,WAAarB,EAAYzB,EAAS8C,WAAYX,GACvDD,EAAQT,EAAYS,EAAOlC,GAC3B1B,EAAO3B,OAAOiG,OAASnB,EAAYnD,EAAO3B,OAAOiG,OAAQV,GAEjC,kBAAbtF,GACFA,EAAS0B,GAGXA,ER8iBRtD,cQ3iBciH,ER4iBdhH,EAAOD,QAAUA,EAAQ","file":"fountain-js.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fountain-js\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fountain-js\"] = factory();\n\telse\n\t\troot[\"fountain-js\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fountain-js\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fountain-js\"] = factory();\n\telse\n\t\troot[\"fountain-js\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _parse = __webpack_require__(1);\n\t\n\tvar _parse2 = _interopRequireDefault(_parse);\n\t\n\tvar _jsonParse = __webpack_require__(6);\n\t\n\tvar _jsonParse2 = _interopRequireDefault(_jsonParse);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// fountain-js 0.1.10\n\t// http://www.opensource.org/licenses/mit-license.php\n\t// Copyright (c) 2012 Matt Daly\n\t\n\tvar fountain = function fountain(script, callback) {\n\t  return fountain.parse(script, callback);\n\t};\n\t\n\tfountain.parse = function (script, tokens, callback) {\n\t  return (0, _parse2.default)(script, tokens, callback);\n\t};\n\t\n\tfountain.parseJSON = function (script, tokens, callback) {\n\t  return (0, _jsonParse2.default)(script, tokens, callback);\n\t};\n\t\n\texports.default = fountain;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _inline = __webpack_require__(2);\n\t\n\tvar _inline2 = _interopRequireDefault(_inline);\n\t\n\tvar _tokenize = __webpack_require__(4);\n\t\n\tvar _tokenize2 = _interopRequireDefault(_tokenize);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar parse = function parse(script, toks, callback) {\n\t\n\t  if (callback === undefined && typeof toks === 'function') {\n\t    callback = toks;\n\t    toks = undefined;\n\t  }\n\t\n\t  var tokens = (0, _tokenize2.default)(script);\n\t  var i = tokens.length;\n\t  var token = void 0;\n\t  var title = void 0;\n\t  var titlePage = [];\n\t  var html = [];\n\t\n\t  while (i--) {\n\t    token = tokens[i];\n\t    token.text = _inline2.default.lexer(token.text);\n\t\n\t    switch (token.type) {\n\t      case 'title':\n\t        titlePage.push('<h1>' + token.text + '</h1>');title = token.text.replace('<br />', ' ').replace(/<(?:.|\\n)*?>/g, '');break;\n\t      case 'credit':\n\t        titlePage.push('<p class=\\\"credit\\\">' + token.text + '</p>');break;\n\t      case 'author':\n\t        titlePage.push('<p class=\\\"authors\\\">' + token.text + '</p>');break;\n\t      case 'authors':\n\t        titlePage.push('<p class=\\\"authors\\\">' + token.text + '</p>');break;\n\t      case 'source':\n\t        titlePage.push('<p class=\\\"source\\\">' + token.text + '</p>');break;\n\t      case 'notes':\n\t        titlePage.push('<p class=\\\"notes\\\">' + token.text + '</p>');break;\n\t      case 'draft_date':\n\t        titlePage.push('<p class=\\\"draft-date\\\">' + token.text + '</p>');break;\n\t      case 'date':\n\t        titlePage.push('<p class=\\\"date\\\">' + token.text + '</p>');break;\n\t      case 'contact':\n\t        titlePage.push('<p class=\\\"contact\\\">' + token.text + '</p>');break;\n\t      case 'copyright':\n\t        titlePage.push('<p class=\\\"copyright\\\">' + token.text + '</p>');break;\n\t\n\t      case 'scene_heading':\n\t        html.push('<h3' + (token.scene_number ? ' id=\\\"' + token.scene_number + '\\\">' : '>') + token.text + '</h3>');break;\n\t      case 'transition':\n\t        html.push('<h2>' + token.text + '</h2>');break;\n\t\n\t      case 'dual_dialogue_begin':\n\t        html.push('<div class=\\\"dual-dialogue\\\">');break;\n\t      case 'dialogue_begin':\n\t        html.push('<div class=\\\"dialogue' + (token.dual ? ' ' + token.dual : '') + '\\\">');break;\n\t      case 'character':\n\t        html.push('<h4>' + token.text + '</h4>');break;\n\t      case 'parenthetical':\n\t        html.push('<p class=\\\"parenthetical\\\">' + token.text + '</p>');break;\n\t      case 'dialogue':\n\t        html.push('<p>' + token.text + '</p>');break;\n\t      case 'dialogue_end':\n\t        html.push('</div> ');break;\n\t      case 'dual_dialogue_end':\n\t        html.push('</div> ');break;\n\t\n\t      case 'section':\n\t        html.push('<p class=\\\"section\\\" data-depth=\\\"' + token.depth + '\\\">' + token.text + '</p>');break;\n\t      case 'synopsis':\n\t        html.push('<p class=\\\"synopsis\\\">' + token.text + '</p>');break;\n\t\n\t      case 'note':\n\t        html.push('<!-- ' + token.text + '-->');break;\n\t      case 'boneyard_begin':\n\t        html.push('<!-- ');break;\n\t      case 'boneyard_end':\n\t        html.push(' -->');break;\n\t\n\t      case 'action':\n\t        html.push('<p>' + token.text + '</p>');break;\n\t      case 'centered':\n\t        html.push('<p class=\\\"centered\\\">' + token.text + '</p>');break;\n\t\n\t      case 'page_break':\n\t        html.push('<hr />');break;\n\t      case 'line_break':\n\t        html.push('<br />');break;\n\t\n\t      default:\n\t        console.log('Unexpected Token type', token.type, token.text);\n\t    }\n\t  }\n\t\n\t  var output = { title: title, html: { titlePage: titlePage.join(''), script: html.join('') }, tokens: toks ? tokens.reverse() : undefined };\n\t\n\t  if (typeof callback === 'function') {\n\t    return callback(output);\n\t  }\n\t\n\t  return output;\n\t};\n\t\n\texports.default = parse;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _regex = __webpack_require__(3);\n\t\n\tvar _regex2 = _interopRequireDefault(_regex);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar inline = {\n\t  note: '<!-- $1 -->',\n\t\n\t  line_break: '<br />',\n\t\n\t  bold_italic_underline: '<span class=\\\"bold italic underline\\\">$2</span>',\n\t  bold_underline: '<span class=\\\"bold underline\\\">$2</span>',\n\t  italic_underline: '<span class=\\\"italic underline\\\">$2</span>',\n\t  bold_italic: '<span class=\\\"bold italic\\\">$2</span>',\n\t  bold: '<span class=\\\"bold\\\">$2</span>',\n\t  italic: '<span class=\\\"italic\\\">$2</span>',\n\t  underline: '<span class=\\\"underline\\\">$2</span>'\n\t};\n\t\n\tinline.lexer = function (s) {\n\t  if (!s) {\n\t    return;\n\t  }\n\t\n\t  var styles = ['underline', 'italic', 'bold', 'bold_italic', 'italic_underline', 'bold_underline', 'bold_italic_underline'];\n\t  var i = styles.length;\n\t  var style = void 0;\n\t  var match = void 0;\n\t\n\t  s = s.replace(_regex2.default.note_inline, inline.note).replace(/\\\\\\*/g, '[star]').replace(/\\\\_/g, '[underline]').replace(/\\n/g, inline.line_break);\n\t\n\t  // if (regex.emphasis.test(s)) {                         // this was causing only every other occurence of an emphasis syntax to be parsed\n\t  while (i--) {\n\t    style = styles[i];\n\t    match = _regex2.default[style];\n\t\n\t    if (match.test(s)) {\n\t      s = s.replace(match, inline[style]);\n\t    }\n\t  }\n\t  // }\n\t\n\t  return s.replace(/\\[star\\]/g, '*').replace(/\\[underline\\]/g, '_').trim();\n\t};\n\t\n\texports.default = inline;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar regex = {\n\t  title_page: /^((?:title|credit|author[s]?|source|notes|draft date|date|contact|copyright)\\:)/gim,\n\t\n\t  scene_heading: /^((?:\\*{0,3}_?)?(?:(?:int|ext|est|i\\/e)[. ]).+)|^(?:\\.(?!\\.+))(.+)/i,\n\t  scene_number: /( *#(.+)# *)/,\n\t\n\t  transition: /^((?:FADE (?:TO BLACK|OUT)|CUT TO BLACK)\\.|.+ TO\\:)|^(?:> *)(.+)/,\n\t\n\t  dialogue: /^([A-Z*_]+[0-9A-Z (._\\-')]*)(\\^?)?(?:\\n(?!\\n+))([\\s\\S]+)/,\n\t  parenthetical: /^(\\(.+\\))$/,\n\t\n\t  action: /^(.+)/g,\n\t  centered: /^(?:> *)(.+)(?: *<)(\\n.+)*/g,\n\t\n\t  section: /^(#+)(?: *)(.*)/,\n\t  synopsis: /^(?:\\=(?!\\=+) *)(.*)/,\n\t\n\t  note: /^(?:\\[{2}(?!\\[+))(.+)(?:\\]{2}(?!\\[+))$/,\n\t  note_inline: /(?:\\[{2}(?!\\[+))([\\s\\S]+?)(?:\\]{2}(?!\\[+))/g,\n\t  boneyard: /(^\\/\\*|^\\*\\/)$/g,\n\t\n\t  page_break: /^\\={3,}$/,\n\t  line_break: /^ {2}$/,\n\t\n\t  emphasis: /(_|\\*{1,3}|_\\*{1,3}|\\*{1,3}_)(.+)(_|\\*{1,3}|_\\*{1,3}|\\*{1,3}_)/g,\n\t  bold_italic_underline: /(_{1}\\*{3}(?=.+\\*{3}_{1})|\\*{3}_{1}(?=.+_{1}\\*{3}))(.+?)(\\*{3}_{1}|_{1}\\*{3})/g,\n\t  bold_underline: /(_{1}\\*{2}(?=.+\\*{2}_{1})|\\*{2}_{1}(?=.+_{1}\\*{2}))(.+?)(\\*{2}_{1}|_{1}\\*{2})/g,\n\t  italic_underline: /(?:_{1}\\*{1}(?=.+\\*{1}_{1})|\\*{1}_{1}(?=.+_{1}\\*{1}))(.+?)(\\*{1}_{1}|_{1}\\*{1})/g,\n\t  bold_italic: /(\\*{3}(?=.+\\*{3}))(.+?)(\\*{3})/g,\n\t  bold: /(\\*{2}(?=.+\\*{2}))(.+?)(\\*{2})/g,\n\t  italic: /(\\*{1}(?=.+\\*{1}))(.+?)(\\*{1})/g,\n\t  underline: /(_{1}(?=.+_{1}))(.+?)(_{1})/g,\n\t\n\t  splitter: /\\n{2,}/g,\n\t  cleaner: /^\\n+|\\n+$/,\n\t  standardizer: /\\r\\n|\\r/g,\n\t  whitespacer: /^\\t+|^ {3,}/gm\n\t};\n\t\n\texports.default = regex;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _regex = __webpack_require__(3);\n\t\n\tvar _regex2 = _interopRequireDefault(_regex);\n\t\n\tvar _lexer = __webpack_require__(5);\n\t\n\tvar _lexer2 = _interopRequireDefault(_lexer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar tokenize = function tokenize(script) {\n\t  var src = (0, _lexer2.default)(script).split(_regex2.default.splitter);\n\t  var i = src.length;\n\t  var line = void 0;\n\t  var match = void 0;\n\t  var parts = void 0;\n\t  var text = void 0;\n\t  var meta = void 0;\n\t  var x = void 0;\n\t  var xlen = void 0;\n\t  var dual = void 0;\n\t  var tokens = [];\n\t\n\t  while (i--) {\n\t    line = src[i];\n\t\n\t    // title page\n\t    if (_regex2.default.title_page.test(line)) {\n\t      match = line.replace(_regex2.default.title_page, '\\n$1').split(_regex2.default.splitter).reverse();\n\t      for (x = 0, xlen = match.length; x < xlen; x++) {\n\t        parts = match[x].replace(_regex2.default.cleaner, '').split(/\\:\\n*/);\n\t        tokens.push({\n\t          type: parts[0].trim().toLowerCase().replace(' ', '_'),\n\t          text: parts[1].trim()\n\t        });\n\t      }\n\t      continue;\n\t    }\n\t\n\t    // scene headings\n\t    if (match = line.match(_regex2.default.scene_heading)) {\n\t      text = match[1] || match[2];\n\t\n\t      if (text.indexOf('  ') !== text.length - 2) {\n\t        if (meta = text.match(_regex2.default.scene_number)) {\n\t          meta = meta[2];\n\t          text = text.replace(_regex2.default.scene_number, '');\n\t        }\n\t        tokens.push({\n\t          type: 'scene_heading',\n\t          text: text,\n\t          scene_number: meta || undefined\n\t        });\n\t      }\n\t      continue;\n\t    }\n\t\n\t    // centered\n\t    if (match = line.match(_regex2.default.centered)) {\n\t      tokens.push({\n\t        type: 'centered',\n\t        text: match[0].replace(/>|</g, '')\n\t      });\n\t      continue;\n\t    }\n\t\n\t    // transitions\n\t    if (match = line.match(_regex2.default.transition)) {\n\t      tokens.push({\n\t        type: 'transition',\n\t        text: match[1] || match[2]\n\t      });\n\t      continue;\n\t    }\n\t\n\t    // dialogue blocks - characters, parentheticals and dialogue\n\t    if (match = line.match(_regex2.default.dialogue)) {\n\t      if (match[1].indexOf('  ') !== match[1].length - 2) {\n\t        // we're iterating from the bottom up, so we need to push these backwards\n\t        if (match[2]) {\n\t          tokens.push({\n\t            type: 'dual_dialogue_end'\n\t          });\n\t        }\n\t\n\t        tokens.push({\n\t          type: 'dialogue_end'\n\t        });\n\t\n\t        parts = match[3].split(/(\\(.+\\))(?:\\n+)/).reverse();\n\t\n\t        for (x = 0, xlen = parts.length; x < xlen; x++) {\n\t          text = parts[x];\n\t\n\t          if (text.length > 0) {\n\t            tokens.push({\n\t              type: _regex2.default.parenthetical.test(text) ? 'parenthetical' : 'dialogue',\n\t              text: text\n\t            });\n\t          }\n\t        }\n\t\n\t        tokens.push({\n\t          type: 'character',\n\t          text: match[1].trim()\n\t        });\n\t        tokens.push({\n\t          type: 'dialogue_begin',\n\t          dual: match[2] ? 'right' : dual ? 'left' : undefined\n\t        });\n\t\n\t        if (dual) {\n\t          tokens.push({\n\t            type: 'dual_dialogue_begin'\n\t          });\n\t        }\n\t\n\t        dual = match[2] ? true : false;\n\t        continue;\n\t      }\n\t    }\n\t\n\t    // section\n\t    if (match = line.match(_regex2.default.section)) {\n\t      tokens.push({\n\t        type: 'section',\n\t        text: match[2],\n\t        depth: match[1].length\n\t      });\n\t      continue;\n\t    }\n\t\n\t    // synopsis\n\t    if (match = line.match(_regex2.default.synopsis)) {\n\t      tokens.push({\n\t        type: 'synopsis',\n\t        text: match[1]\n\t      });\n\t      continue;\n\t    }\n\t\n\t    // notes\n\t    if (match = line.match(_regex2.default.note)) {\n\t      tokens.push({\n\t        type: 'note',\n\t        text: match[1]\n\t      });\n\t      continue;\n\t    }\n\t\n\t    // boneyard\n\t    if (match = line.match(_regex2.default.boneyard)) {\n\t      tokens.push({\n\t        type: match[0][0] === '/' ? 'boneyard_begin' : 'boneyard_end'\n\t      });\n\t      continue;\n\t    }\n\t\n\t    // page breaks\n\t    if (_regex2.default.page_break.test(line)) {\n\t      tokens.push({\n\t        type: 'page_break'\n\t      });\n\t      continue;\n\t    }\n\t\n\t    // line breaks\n\t    if (_regex2.default.line_break.test(line)) {\n\t      tokens.push({\n\t        type: 'line_break'\n\t      });\n\t      continue;\n\t    }\n\t\n\t    tokens.push({\n\t      type: 'action',\n\t      text: line\n\t    });\n\t  }\n\t\n\t  return tokens;\n\t};\n\t\n\texports.default = tokenize;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _regex = __webpack_require__(3);\n\t\n\tvar _regex2 = _interopRequireDefault(_regex);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar lexer = function lexer(script) {\n\t  return script.replace(_regex2.default.boneyard, '\\n$1\\n').replace(_regex2.default.standardizer, '\\n').replace(_regex2.default.cleaner, '').replace(_regex2.default.whitespacer, '');\n\t};\n\t\n\texports.default = lexer;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _tokenize = __webpack_require__(4);\n\t\n\tvar _tokenize2 = _interopRequireDefault(_tokenize);\n\t\n\tvar _inline = __webpack_require__(2);\n\t\n\tvar _inline2 = _interopRequireDefault(_inline);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar pushToArray = function pushToArray(maybeArray, stuffToPush) {\n\t  if (typeof maybeArray == 'undefined') {\n\t    maybeArray = [];\n\t  }\n\t\n\t  if (Array.isArray(maybeArray)) {\n\t    maybeArray.push(stuffToPush);\n\t  } else {\n\t    console.trace();\n\t    throw 'First parameter to this function must be a proper array. Instead got: ' + JSON.stringify(maybeArray);\n\t  }\n\t\n\t  return maybeArray;\n\t};\n\t\n\tvar parseToJson = function parseToJson(script, toks, callback) {\n\t  if (callback === undefined && typeof toks === 'function') {\n\t    callback = toks;\n\t    toks = undefined;\n\t  }\n\t\n\t  var tokens = (0, _tokenize2.default)(script);\n\t  var i = tokens.length;\n\t  var token = void 0;\n\t  var output = {};\n\t\n\t  output.title_page = {};\n\t  output.script = {}; // script is an array of scenes\n\t\n\t  output.tokens = toks ? tokens.reverse() : undefined;\n\t\n\t  var scene = []; // the current running scene\n\t  var dialogue = {\n\t    type: 'unknown'\n\t  }; // the current running dialogue\n\t  var character = {\n\t    type: 'unknown'\n\t  }; // the current running character\n\t\n\t  while (i--) {\n\t    token = tokens[i];\n\t    token.text = _inline2.default.lexer(token.text);\n\t\n\t    switch (token.type) {\n\t      case 'title':\n\t        output.title = token.text.replace('<br />', ' ').replace(/<(?:.|\\n)*?>/g, '');\n\t        output.title_page.title = pushToArray(output.title_page.title, output.title);\n\t        break;\n\t      case 'credit':\n\t        output.title_page.credit = pushToArray(output.title_page.credit, token.text);\n\t        break;\n\t      case 'author':\n\t      case 'authors':\n\t        output.title_page.authors = pushToArray(output.title_page.authors, token.text);\n\t        break;\n\t      case 'source':\n\t        output.title_page.source = pushToArray(output.title_page.source, token.text);\n\t        break;\n\t      case 'notes':\n\t        output.title_page.notes = pushToArray(output.title_page.notes, token.text);\n\t        break;\n\t      case 'draft_date':\n\t        output.title_page.draftdate = pushToArray(output.title_page.draftdate, token.text);\n\t        break;\n\t      case 'date':\n\t        output.title_page.date = pushToArray(output.title_page.date, token.text);\n\t        break;\n\t      case 'contact':\n\t        output.title_page.contact = pushToArray(output.title_page.contact, token.text);\n\t        break;\n\t      case 'copyright':\n\t        output.title_page.copyright = pushToArray(output.title_page.copyright, token.text);\n\t        break;\n\t\n\t      case 'scene_heading':\n\t        output.script.scenes = pushToArray(output.script.scenes, scene);\n\t        scene = [];\n\t        scene = pushToArray(scene, {\n\t          type: 'heading',\n\t          scene_number: token.scene_number,\n\t          heading: token.text\n\t        });\n\t        break;\n\t\n\t      case 'transition':\n\t        // push the current running scene onto the list, and begin a new one\n\t        scene = pushToArray(scene, {\n\t          type: 'transition',\n\t          text: token.text\n\t        });\n\t        break;\n\t\n\t      case 'dual_dialogue_begin':\n\t        dialogue.characters = pushToArray(dialogue.characters, character);\n\t        character = {\n\t          type: 'unkown'\n\t        };\n\t        scene = pushToArray(scene, dialogue);\n\t        dialogue = {\n\t          type: 'dialogue-dual'\n\t        };\n\t        break;\n\t      case 'dialogue_begin':\n\t        dialogue.characters = pushToArray(dialogue.characters, character);\n\t        character = {\n\t          type: 'unkown'\n\t        };\n\t        scene = pushToArray(scene, dialogue);\n\t        dialogue = {\n\t          type: token.dual ? 'dialogue-dual' : 'dialogue-single'\n\t        };\n\t        break;\n\t      case 'character':\n\t        dialogue.characters = pushToArray(dialogue.characters, character);\n\t        character = {\n\t          type: 'character',\n\t          name: token.text\n\t        };\n\t        break;\n\t      case 'parenthetical':\n\t        character.lines = pushToArray(character.lines, {\n\t          type: 'parenthetical',\n\t          text: token.text\n\t        });\n\t        break;\n\t      case 'dialogue':\n\t        character.lines = pushToArray(character.lines, {\n\t          type: 'line',\n\t          text: token.text\n\t        });\n\t        break;\n\t      case 'dialogue_end':\n\t      case 'dual_dialogue_end':\n\t        dialogue.characters = pushToArray(dialogue.characters, character);\n\t        scene = pushToArray(scene, dialogue);\n\t        dialogue = {\n\t          type: 'dialogue-single'\n\t        };\n\t        break;\n\t\n\t      case 'section':\n\t        scene = pushToArray(scene, {\n\t          type: 'section',\n\t          name: token.text\n\t        });\n\t        break;\n\t      case 'synopsis':\n\t        scene = pushToArray(scene, {\n\t          type: 'synopsis',\n\t          text: token.text\n\t        });\n\t        break;\n\t\n\t      case 'note':\n\t      case 'boneyard_begin':\n\t      case 'boneyard_end':\n\t        // NO OP\n\t        break;\n\t\n\t      case 'action':\n\t      case 'centered':\n\t        scene = pushToArray(scene, {\n\t          type: 'action',\n\t          text: token.text\n\t        });\n\t        break;\n\t\n\t      case 'page_break':\n\t      case 'line_break':\n\t\n\t        // NO OP\n\t        break;\n\t      default:\n\t        console.log('Unexpected Token type', token.type, token.text);\n\t    }\n\t  }\n\t\n\t  // ensure we track any dangling state:\n\t  dialogue.characters = pushToArray(dialogue.characters, character);\n\t  scene = pushToArray(scene, dialogue);\n\t  output.script.scenes = pushToArray(output.script.scenes, scene);\n\t\n\t  if (typeof callback === 'function') {\n\t    return callback(output);\n\t  }\n\t\n\t  return output;\n\t};\n\t\n\texports.default = parseToJson;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** fountain-js.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4448cead7d99963034a2\n **/","// fountain-js 0.1.10\n// http://www.opensource.org/licenses/mit-license.php\n// Copyright (c) 2012 Matt Daly\n\nimport parse from './parse';\nimport parseToJson from './json-parse';\n\nconst fountain = function(script, callback) {\n  return fountain.parse(script, callback);\n};\n\nfountain.parse = function(script, tokens, callback) {\n  return parse(script, tokens, callback);\n};\n\nfountain.parseJSON = function(script, tokens, callback) {\n  return parseToJson(script, tokens, callback);\n};\n\nexport default fountain;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","  import inline from './inline';\n  import tokenize from './tokenize';\n\n  const parse = function(script, toks, callback) {\n\n    if (callback === undefined && typeof toks === 'function') {\n      callback = toks;\n      toks = undefined;\n    }\n\n    const tokens = tokenize(script);\n    let i = tokens.length;\n    let  token;\n    let title;\n    const titlePage = [];\n    const  html = [];\n\n    while (i--) {\n      token = tokens[i];\n      token.text = inline.lexer(token.text);\n\n      switch (token.type) {\n        case 'title': titlePage.push('<h1>' + token.text + '</h1>'); title = token.text.replace('<br />', ' ').replace(/<(?:.|\\n)*?>/g, ''); break;\n        case 'credit': titlePage.push('<p class=\\\"credit\\\">' + token.text + '</p>'); break;\n        case 'author': titlePage.push('<p class=\\\"authors\\\">' + token.text + '</p>'); break;\n        case 'authors': titlePage.push('<p class=\\\"authors\\\">' + token.text + '</p>'); break;\n        case 'source': titlePage.push('<p class=\\\"source\\\">' + token.text + '</p>'); break;\n        case 'notes': titlePage.push('<p class=\\\"notes\\\">' + token.text + '</p>'); break;\n        case 'draft_date': titlePage.push('<p class=\\\"draft-date\\\">' + token.text + '</p>'); break;\n        case 'date': titlePage.push('<p class=\\\"date\\\">' + token.text + '</p>'); break;\n        case 'contact': titlePage.push('<p class=\\\"contact\\\">' + token.text + '</p>'); break;\n        case 'copyright': titlePage.push('<p class=\\\"copyright\\\">' + token.text + '</p>'); break;\n\n        case 'scene_heading': html.push('<h3' + (token.scene_number ? ' id=\\\"' + token.scene_number + '\\\">' : '>') + token.text + '</h3>'); break;\n        case 'transition': html.push('<h2>' + token.text + '</h2>'); break;\n\n        case 'dual_dialogue_begin': html.push('<div class=\\\"dual-dialogue\\\">'); break;\n        case 'dialogue_begin': html.push('<div class=\\\"dialogue' + (token.dual ? ' ' + token.dual : '') + '\\\">'); break;\n        case 'character': html.push('<h4>' + token.text + '</h4>'); break;\n        case 'parenthetical': html.push('<p class=\\\"parenthetical\\\">' + token.text + '</p>'); break;\n        case 'dialogue': html.push('<p>' + token.text + '</p>'); break;\n        case 'dialogue_end': html.push('</div> '); break;\n        case 'dual_dialogue_end': html.push('</div> '); break;\n\n        case 'section': html.push('<p class=\\\"section\\\" data-depth=\\\"' + token.depth + '\\\">' + token.text + '</p>'); break;\n        case 'synopsis': html.push('<p class=\\\"synopsis\\\">' + token.text + '</p>'); break;\n\n        case 'note': html.push('<!-- ' + token.text + '-->'); break;\n        case 'boneyard_begin': html.push('<!-- '); break;\n        case 'boneyard_end': html.push(' -->'); break;\n\n        case 'action': html.push('<p>' + token.text + '</p>'); break;\n        case 'centered': html.push('<p class=\\\"centered\\\">' + token.text + '</p>'); break;\n\n        case 'page_break': html.push('<hr />'); break;\n        case 'line_break': html.push('<br />'); break;\n\n        default: console.log('Unexpected Token type', token.type, token.text);\n      }\n    }\n\n    const output = { title, html: { titlePage: titlePage.join(''), script: html.join('') }, tokens: toks ? tokens.reverse() : undefined };\n\n    if (typeof callback === 'function') {\n      return callback(output);\n    }\n\n    return output;\n  };\n\n  export default parse;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/parse.js\n **/","  import regex from './regex';\n\n  const inline = {\n    note: '<!-- $1 -->',\n\n    line_break: '<br />',\n\n    bold_italic_underline: '<span class=\\\"bold italic underline\\\">$2</span>',\n    bold_underline: '<span class=\\\"bold underline\\\">$2</span>',\n    italic_underline: '<span class=\\\"italic underline\\\">$2</span>',\n    bold_italic: '<span class=\\\"bold italic\\\">$2</span>',\n    bold: '<span class=\\\"bold\\\">$2</span>',\n    italic: '<span class=\\\"italic\\\">$2</span>',\n    underline: '<span class=\\\"underline\\\">$2</span>'\n  };\n\n  inline.lexer = function(s) {\n    if (!s) {\n      return;\n    }\n\n    const styles = ['underline', 'italic', 'bold', 'bold_italic', 'italic_underline', 'bold_underline', 'bold_italic_underline'];\n    let i = styles.length;\n    let style;\n    let match;\n\n    s = s.replace(regex.note_inline, inline.note).replace(/\\\\\\*/g, '[star]').replace(/\\\\_/g, '[underline]').replace(/\\n/g, inline.line_break);\n\n    // if (regex.emphasis.test(s)) {                         // this was causing only every other occurence of an emphasis syntax to be parsed\n    while (i--) {\n      style = styles[i];\n      match = regex[style];\n\n      if (match.test(s)) {\n        s = s.replace(match, inline[style]);\n      }\n    }\n    // }\n\n    return s.replace(/\\[star\\]/g, '*').replace(/\\[underline\\]/g, '_').trim();\n  };\n\n  export default inline;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/inline.js\n **/","const regex = {\n  title_page: /^((?:title|credit|author[s]?|source|notes|draft date|date|contact|copyright)\\:)/gim,\n\n  scene_heading: /^((?:\\*{0,3}_?)?(?:(?:int|ext|est|i\\/e)[. ]).+)|^(?:\\.(?!\\.+))(.+)/i,\n  scene_number: /( *#(.+)# *)/,\n\n  transition: /^((?:FADE (?:TO BLACK|OUT)|CUT TO BLACK)\\.|.+ TO\\:)|^(?:> *)(.+)/,\n\n  dialogue: /^([A-Z*_]+[0-9A-Z (._\\-')]*)(\\^?)?(?:\\n(?!\\n+))([\\s\\S]+)/,\n  parenthetical: /^(\\(.+\\))$/,\n\n  action: /^(.+)/g,\n  centered: /^(?:> *)(.+)(?: *<)(\\n.+)*/g,\n\n  section: /^(#+)(?: *)(.*)/,\n  synopsis: /^(?:\\=(?!\\=+) *)(.*)/,\n\n  note: /^(?:\\[{2}(?!\\[+))(.+)(?:\\]{2}(?!\\[+))$/,\n  note_inline: /(?:\\[{2}(?!\\[+))([\\s\\S]+?)(?:\\]{2}(?!\\[+))/g,\n  boneyard: /(^\\/\\*|^\\*\\/)$/g,\n\n  page_break: /^\\={3,}$/,\n  line_break: /^ {2}$/,\n\n  emphasis: /(_|\\*{1,3}|_\\*{1,3}|\\*{1,3}_)(.+)(_|\\*{1,3}|_\\*{1,3}|\\*{1,3}_)/g,\n  bold_italic_underline: /(_{1}\\*{3}(?=.+\\*{3}_{1})|\\*{3}_{1}(?=.+_{1}\\*{3}))(.+?)(\\*{3}_{1}|_{1}\\*{3})/g,\n  bold_underline: /(_{1}\\*{2}(?=.+\\*{2}_{1})|\\*{2}_{1}(?=.+_{1}\\*{2}))(.+?)(\\*{2}_{1}|_{1}\\*{2})/g,\n  italic_underline: /(?:_{1}\\*{1}(?=.+\\*{1}_{1})|\\*{1}_{1}(?=.+_{1}\\*{1}))(.+?)(\\*{1}_{1}|_{1}\\*{1})/g,\n  bold_italic: /(\\*{3}(?=.+\\*{3}))(.+?)(\\*{3})/g,\n  bold: /(\\*{2}(?=.+\\*{2}))(.+?)(\\*{2})/g,\n  italic: /(\\*{1}(?=.+\\*{1}))(.+?)(\\*{1})/g,\n  underline: /(_{1}(?=.+_{1}))(.+?)(_{1})/g,\n\n  splitter: /\\n{2,}/g,\n  cleaner: /^\\n+|\\n+$/,\n  standardizer: /\\r\\n|\\r/g,\n  whitespacer: /^\\t+|^ {3,}/gm\n};\n\nexport default regex;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/regex.js\n **/","import regex from './regex';\nimport lexer from './lexer';\n\nconst tokenize = function(script) {\n  const src = lexer(script).split(regex.splitter);\n  let i = src.length;\n  let line;\n  let match;\n  let parts;\n  let text;\n  let meta;\n  let x;\n  let xlen;\n  let dual;\n  const tokens = [];\n\n  while (i--) {\n    line = src[i];\n\n    // title page\n    if (regex.title_page.test(line)) {\n      match = line.replace(regex.title_page, '\\n$1').split(regex.splitter).reverse();\n      for (x = 0, xlen = match.length; x < xlen; x++) {\n        parts = match[x].replace(regex.cleaner, '').split(/\\:\\n*/);\n        tokens.push({\n          type: parts[0].trim().toLowerCase().replace(' ', '_'),\n          text: parts[1].trim()\n        });\n      }\n      continue;\n    }\n\n    // scene headings\n    if (match = line.match(regex.scene_heading)) {\n      text = match[1] || match[2];\n\n      if (text.indexOf('  ') !== text.length - 2) {\n        if (meta = text.match(regex.scene_number)) {\n          meta = meta[2];\n          text = text.replace(regex.scene_number, '');\n        }\n        tokens.push({\n          type: 'scene_heading',\n          text,\n          scene_number: meta || undefined\n        });\n      }\n      continue;\n    }\n\n    // centered\n    if (match = line.match(regex.centered)) {\n      tokens.push({\n        type: 'centered',\n        text: match[0].replace(/>|</g, '')\n      });\n      continue;\n    }\n\n    // transitions\n    if (match = line.match(regex.transition)) {\n      tokens.push({\n        type: 'transition',\n        text: match[1] || match[2]\n      });\n      continue;\n    }\n\n    // dialogue blocks - characters, parentheticals and dialogue\n    if (match = line.match(regex.dialogue)) {\n      if (match[1].indexOf('  ') !== match[1].length - 2) {\n        // we're iterating from the bottom up, so we need to push these backwards\n        if (match[2]) {\n          tokens.push({\n            type: 'dual_dialogue_end'\n          });\n        }\n\n        tokens.push({\n          type: 'dialogue_end'\n        });\n\n        parts = match[3].split(/(\\(.+\\))(?:\\n+)/).reverse();\n\n        for (x = 0, xlen = parts.length; x < xlen; x++) {\n          text = parts[x];\n\n          if (text.length > 0) {\n            tokens.push({\n              type: regex.parenthetical.test(text) ? 'parenthetical' : 'dialogue',\n              text\n            });\n          }\n        }\n\n        tokens.push({\n          type: 'character',\n          text: match[1].trim()\n        });\n        tokens.push({\n          type: 'dialogue_begin',\n          dual: match[2] ? 'right' : dual ? 'left' : undefined\n        });\n\n        if (dual) {\n          tokens.push({\n            type: 'dual_dialogue_begin'\n          });\n        }\n\n        dual = match[2] ? true : false;\n        continue;\n      }\n    }\n\n    // section\n    if (match = line.match(regex.section)) {\n      tokens.push({\n        type: 'section',\n        text: match[2],\n        depth: match[1].length\n      });\n      continue;\n    }\n\n    // synopsis\n    if (match = line.match(regex.synopsis)) {\n      tokens.push({\n        type: 'synopsis',\n        text: match[1]\n      });\n      continue;\n    }\n\n    // notes\n    if (match = line.match(regex.note)) {\n      tokens.push({\n        type: 'note',\n        text: match[1]\n      });\n      continue;\n    }\n\n    // boneyard\n    if (match = line.match(regex.boneyard)) {\n      tokens.push({\n        type: match[0][0] === '/' ? 'boneyard_begin' : 'boneyard_end'\n      });\n      continue;\n    }\n\n    // page breaks\n    if (regex.page_break.test(line)) {\n      tokens.push({\n        type: 'page_break'\n      });\n      continue;\n    }\n\n    // line breaks\n    if (regex.line_break.test(line)) {\n      tokens.push({\n        type: 'line_break'\n      });\n      continue;\n    }\n\n    tokens.push({\n      type: 'action',\n      text: line\n    });\n  }\n\n  return tokens;\n};\n\nexport default tokenize;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tokenize.js\n **/","import regex from './regex';\n\nconst lexer = function(script) {\n  return script.replace(regex.boneyard, '\\n$1\\n')\n    .replace(regex.standardizer, '\\n')\n    .replace(regex.cleaner, '')\n    .replace(regex.whitespacer, '');\n};\n\nexport default lexer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lexer.js\n **/","import tokenize from './tokenize';\nimport inline from './inline';\n\nconst pushToArray = function(maybeArray, stuffToPush) {\n  if (typeof maybeArray == 'undefined') {\n    maybeArray = [];\n  }\n\n  if (Array.isArray(maybeArray)) {\n    maybeArray.push(stuffToPush);\n  } else {\n    console.trace();\n    throw 'First parameter to this function must be a proper array. Instead got: ' + JSON.stringify(maybeArray);\n  }\n\n  return maybeArray;\n};\n\nconst parseToJson = function(script, toks, callback) {\n  if (callback === undefined && typeof toks === 'function') {\n    callback = toks;\n    toks = undefined;\n  }\n\n  const tokens = tokenize(script);\n  let i = tokens.length;\n  let token;\n  const output = {};\n\n\n  output.title_page = {};\n  output.script = {}; // script is an array of scenes\n\n  output.tokens = toks ? tokens.reverse() : undefined;\n\n  let scene = []; // the current running scene\n  let dialogue = {\n    type: 'unknown'\n  }; // the current running dialogue\n  let character = {\n    type: 'unknown'\n  }; // the current running character\n\n  while (i--) {\n    token = tokens[i];\n    token.text = inline.lexer(token.text);\n\n    switch (token.type) {\n      case 'title':\n        output.title = token.text.replace('<br />', ' ').replace(/<(?:.|\\n)*?>/g, '');\n        output.title_page.title = pushToArray(output.title_page.title, output.title);\n        break;\n      case 'credit':\n        output.title_page.credit = pushToArray(output.title_page.credit, token.text);\n        break;\n      case 'author':\n      case 'authors':\n        output.title_page.authors = pushToArray(output.title_page.authors, token.text);\n        break;\n      case 'source':\n        output.title_page.source = pushToArray(output.title_page.source, token.text);\n        break;\n      case 'notes':\n        output.title_page.notes = pushToArray(output.title_page.notes, token.text);\n        break;\n      case 'draft_date':\n        output.title_page.draftdate = pushToArray(output.title_page.draftdate, token.text);\n        break;\n      case 'date':\n        output.title_page.date = pushToArray(output.title_page.date, token.text);\n        break;\n      case 'contact':\n        output.title_page.contact = pushToArray(output.title_page.contact, token.text);\n        break;\n      case 'copyright':\n        output.title_page.copyright = pushToArray(output.title_page.copyright, token.text);\n        break;\n\n      case 'scene_heading':\n        output.script.scenes = pushToArray(output.script.scenes, scene);\n        scene = [];\n        scene = pushToArray(scene, {\n          type: 'heading',\n          scene_number: token.scene_number,\n          heading: token.text\n        });\n        break;\n\n      case 'transition':\n        // push the current running scene onto the list, and begin a new one\n        scene = pushToArray(scene, {\n          type: 'transition',\n          text: token.text\n        });\n        break;\n\n\n      case 'dual_dialogue_begin':\n        dialogue.characters = pushToArray(dialogue.characters, character);\n        character = {\n          type: 'unkown'\n        };\n        scene = pushToArray(scene, dialogue);\n        dialogue = {\n          type: 'dialogue-dual'\n        };\n        break;\n      case 'dialogue_begin':\n        dialogue.characters = pushToArray(dialogue.characters, character);\n        character = {\n          type: 'unkown'\n        };\n        scene = pushToArray(scene, dialogue);\n        dialogue = {\n          type: (token.dual ? 'dialogue-dual' : 'dialogue-single')\n        };\n        break;\n      case 'character':\n        dialogue.characters = pushToArray(dialogue.characters, character);\n        character = {\n          type: 'character',\n          name: token.text\n        };\n        break;\n      case 'parenthetical':\n        character.lines = pushToArray(character.lines, {\n          type: 'parenthetical',\n          text: token.text\n        });\n        break;\n      case 'dialogue':\n        character.lines = pushToArray(character.lines, {\n          type: 'line',\n          text: token.text\n        });\n        break;\n      case 'dialogue_end':\n      case 'dual_dialogue_end':\n        dialogue.characters = pushToArray(dialogue.characters, character);\n        scene = pushToArray(scene, dialogue);\n        dialogue = {\n          type: 'dialogue-single'\n        };\n        break;\n\n      case 'section':\n        scene = pushToArray(scene, {\n          type: 'section',\n          name: token.text\n        });\n        break;\n      case 'synopsis':\n        scene = pushToArray(scene, {\n          type: 'synopsis',\n          text: token.text\n        });\n        break;\n\n      case 'note':\n      case 'boneyard_begin':\n      case 'boneyard_end':\n        // NO OP\n        break;\n\n      case 'action':\n      case 'centered':\n        scene = pushToArray(scene, {\n          type: 'action',\n          text: token.text\n        });\n        break;\n\n      case 'page_break':\n      case 'line_break':\n\n        // NO OP\n        break;\n      default: console.log('Unexpected Token type', token.type, token.text);\n    }\n  }\n\n  // ensure we track any dangling state:\n  dialogue.characters = pushToArray(dialogue.characters, character);\n  scene = pushToArray(scene, dialogue);\n  output.script.scenes = pushToArray(output.script.scenes, scene);\n\n  if (typeof callback === 'function') {\n    return callback(output);\n  }\n\n  return output;\n};\n\nexport default parseToJson;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/json-parse.js\n **/"],"sourceRoot":""}